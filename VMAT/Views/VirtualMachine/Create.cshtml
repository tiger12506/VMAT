@model VMAT.ViewModels.VirtualMachineFormViewModel

@{
    ViewBag.Title = "Create Virtual Machine";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/forms.js")" type="text/javascript"></script>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <ol>
            <li>
                @Html.LabelFor(model => model.MachineName)
                @Html.TextBoxFor(model => model.MachineName, 
                    new { @maxlength = "5" })
                @Html.ValidationMessageFor(model => model.MachineName)
            </li>

            <li>
                @Html.LabelFor(model => model.ProjectName)
                @Html.DropDownList("ProjectName")
                @Html.TextBoxFor(model => model.ProjectName, new { @class = "project-add-field", @maxlength = "5" })
                <button type="button" class="project-add">Add</button>
                @Html.ValidationMessageFor(model => model.ProjectName)
            </li>

            <li>
                @Html.LabelFor(model => model.BaseImageFile)
                @Html.DropDownList("BaseImageFile")
                @Html.ValidationMessageFor(model => model.BaseImageFile)
            </li>

            <li>
                @Html.LabelFor(model => model.IsAutoStarted)
                @Html.RadioButtonFor(model => model.IsAutoStarted, false) Manual <br />
                @Html.RadioButtonFor(model => model.IsAutoStarted, true) Auto <br />
            </li>

            <li>
                @Html.LabelFor(model => model.IP)
                @Html.TextBoxFor(model => model.IP, new { @maxlength = "15" })
                @Html.ValidationMessageFor(model => model.IP)
            </li>
        </ol>
    </fieldset>
    
    <fieldset name="preview" id="preview">
        <legend>Preview</legend>
        <table>
            <tr>
                <th>Project</th>
                <th>Machine Name</th>
                <th>IP Address</th>
                <th>Image File</th>
            </tr>
            <tr>
                <td class="pProject">
                    <output name="projectnumber" for="project-menu">Gxxxx</output>
                </td>
                <td class="pMachinename">
                    <output name="machinename" for="project-menu machine-suffix">gapdevxxxxyyyyy</output>
                </td>
                <td class="pIP">
                    <output name="ip" for="ip">@Model.IP</output>
                </td>
                <td class="pImage">
                    <output name="imagefile" for="image-menu">windows.vmx</output>
                </td>
            </tr>
        </table>
    </fieldset>
    
    <input type="submit" value="Create" />
    
    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>
}
